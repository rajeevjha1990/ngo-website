import{a as Y,b as X,c as Z}from"./chunk-4ULHBVYS.js";import{A as b,Ba as G,Ea as J,Ga as K,J as O,Ja as Q,L as w,X as E,Y as D,Z as N,_ as A,aa as T,d as x,e as h,ga as k,i as l,ia as L,j as p,ja as R,k as f,ka as U,l as I,la as H,m as g,ma as V,n as t,o as e,p as a,pa as B,q as v,r as P,ra as F,s as _,sa as j,ta as W,u as i,va as q,w as c,y as S,z as M,za as z}from"./chunk-I7J5HWBI.js";import"./chunk-DTATBPVL.js";import"./chunk-QUJFQN2Y.js";import"./chunk-X224L3SO.js";import"./chunk-C32O5GX5.js";import"./chunk-52TO42VW.js";import"./chunk-SEUP4ZMM.js";import"./chunk-DRMA3MWZ.js";import"./chunk-RUKPWWTB.js";import"./chunk-4KS6YN45.js";import"./chunk-QNCTVU3D.js";import"./chunk-ZIZQO6BN.js";import"./chunk-YXDY66DN.js";import"./chunk-64IMJK5F.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-WCS4JO7P.js";import"./chunk-CKP3SGE2.js";import"./chunk-GIMRDFJ3.js";import"./chunk-CI7KQTBV.js";import"./chunk-ELFU6LLF.js";import"./chunk-WO4BVH6B.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as C,b as y,h as u}from"./chunk-B7O3QC5Z.js";function $(m,d){if(m&1){let r=v();t(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),i(3,"Confirm Your Order"),e(),t(4,"ion-card-subtitle"),i(5,"Please review your details before placing the order."),e()(),t(6,"ion-card-content")(7,"div",3)(8,"p")(9,"b"),i(10,"Name:"),e(),i(11),e(),t(12,"p")(13,"b"),i(14,"Mobile:"),e(),i(15),e(),t(16,"p")(17,"b"),i(18,"Address:"),e(),i(19),e()(),t(20,"div",4)(21,"p"),i(22,"Total Payable Amount"),e(),t(23,"h1",5),i(24),e()(),t(25,"ion-radio-group",6),b("ngModelChange",function(n){x(r);let s=_();return M(s.payment_mode,n)||(s.payment_mode=n),h(n)}),t(26,"ion-list-header")(27,"ion-label"),i(28,"Select Payment Mode"),e()(),t(29,"ion-item"),a(30,"ion-icon",7),t(31,"ion-label"),i(32,"Cash on Delivery"),e(),a(33,"ion-radio",8),e(),t(34,"ion-item"),a(35,"ion-icon",9),t(36,"ion-label"),i(37,"UPI / QR"),e(),a(38,"ion-radio",10),e(),t(39,"ion-item"),a(40,"ion-icon",11),t(41,"ion-label"),i(42,"Debit / Credit Card"),e(),a(43,"ion-radio",12),e()(),t(44,"ion-button",13),P("click",function(){x(r);let n=_();return h(n.confirmOrder())}),a(45,"ion-icon",14),i(46," Confirm & Place Order "),e()()()}if(m&2){let r=_();l(11),c(" ",r.applyData.name),l(4),c(" ",r.applyData.mobile),l(4),c(" ",r.applyData.address),l(5),c("\u20B9",r.MIN_AMOUNT),l(),S("ngModel",r.payment_mode),l(19),g("disabled",!r.payment_mode)}}function ee(m,d){m&1&&(t(0,"div",15),a(1,"ion-spinner",16),t(2,"p"),i(3,"Loading order details..."),e()())}var ge=(()=>{let d=class d{constructor(o,n,s){this.alertCtrl=o,this.navCtrl=n,this.programServ=s,this.MIN_AMOUNT=300,this.applyData=null,this.payment_mode="COD"}ngOnInit(){let o=localStorage.getItem("program_apply_data");if(!o){this.navCtrl.navigateBack("/program");return}this.applyData=JSON.parse(o),console.log(this.applyData)}confirmOrder(){return u(this,null,function*(){if(!this.payment_mode){yield this.showAlert("Please select payment method.");return}let o=y(C({},this.applyData),{amount:this.MIN_AMOUNT,payment_mode:this.payment_mode,payment_status:this.payment_mode==="COD"?"pending":"paid",transaction_id:""});console.log(o);try{let n=yield this.programServ.applyProgram(o);console.log(n),n&&n.status===200?(localStorage.removeItem("program_apply_data"),yield this.showAlert("\u0906\u092A\u0915\u093E \u0906\u0935\u0947\u0926\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u092C\u092E\u093F\u091F \u0939\u094B \u0917\u092F\u093E \u0939\u0948 \u{1F64F}"),this.navCtrl.navigateRoot("/home")):yield this.showAlert(n?.msg||"Something went wrong.")}catch(n){console.error(n),yield this.showAlert("Server error.")}})}showAlert(o){return u(this,null,function*(){yield(yield this.alertCtrl.create({header:"Info",message:o,buttons:["OK"]})).present()})}};d.\u0275fac=function(n){return new(n||d)(p(Q),p(T),p(Y))},d.\u0275cmp=f({type:d,selectors:[["app-program-payment"]],decls:6,vars:2,consts:[[1,"ion-padding","home-page"],[4,"ngIf"],["class","ion-padding ion-text-center",4,"ngIf"],[1,"details-section"],[1,"amount-section","ion-text-center"],[1,"ion-text-success"],[3,"ngModelChange","ngModel"],["name","cash-outline","slot","start"],["value","COD"],["name","qr-code-outline","slot","start"],["value","UPI"],["name","card-outline","slot","start"],["value","ONLINE"],["expand","block","color","success",3,"click","disabled"],["name","checkmark-circle-outline","slot","start"],[1,"ion-padding","ion-text-center"],["name","crescent"]],template:function(n,s){n&1&&(t(0,"ion-header"),a(1,"app-header"),e(),t(2,"ion-content",0),I(3,$,47,6,"ion-card",1)(4,ee,4,0,"div",2),a(5,"app-footer"),e()),n&2&&(l(3),g("ngIf",s.applyData),l(),g("ngIf",!s.applyData))},dependencies:[k,B,F,J,j,W,L,U,R,V,w,O,A,E,H,K,z,N,D,X,Z,q,G],styles:[".home-page[_ngcontent-%COMP%]{--ion-background-color: #f4f4f4}ion-card[_ngcontent-%COMP%]{box-shadow:0 4px 12px #0000001a;border-radius:10px;max-width:500px;margin:20px auto}.details-section[_ngcontent-%COMP%]{padding-bottom:15px;border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}.details-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:var(--ion-color-medium)}.amount-section[_ngcontent-%COMP%]{padding:15px 0}.amount-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;font-weight:700}.amount-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium)}ion-radio-group[_ngcontent-%COMP%]{margin-top:15px}ion-item[_ngcontent-%COMP%]{--inner-border-width: 0;--border-radius: 5px;margin-bottom:5px;box-shadow:0 1px 3px #0000000d}ion-button[_ngcontent-%COMP%]{margin-top:25px}ion-icon[slot=start][_ngcontent-%COMP%]{margin-inline-end:12px}"]});let m=d;return m})();export{ge as ProgramPaymentPage};
